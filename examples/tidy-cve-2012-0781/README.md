## VeriBin: Tidy CVE-2012-0781 Example
This is an example from the [`Micro-Patch Bench`](https://github.com/Aarno-Labs/micropatch-bench).
The patched file (`tidy_patched`) was compiled using the instructions provided in the `Micro-Patch Bench` dataset.

This minimal patch adds a simple check to the patched function:
```C
+         if (doc->lexer == 0)
+             return;
```
This patch is considered `Safe to Apply` since it only **restricts** the input of values accepted by the patched function.

## Running
### View the Patch
To examine the differences between the original and patched versions:
```bash
cd examples/tidy-cve-2012-0781
./compare_source.sh
```

### Locate Patch-Affected Functions
To identify the functions affected by the patch:
```bash
./locate_diffing_funcs.sh
```
The result from `BinDiff` shows that function `prvTidyReportMarkupVersion` at address `0x429f20` is potentially affected by the patch.
### Generate Configuration File
To create the initial configuration file:
```bash
./generate_config_from_binary.sh
```
The generated configuration file (`config_preprocessed.json`) is stored in the `config` folder. In this case, no manual adjustments are needed, so `config_preprocessed.json` can be used directly as the final `config.json`.

### Verify the Patch
To run `VeriBin` and verify the safety of the patch:
```bash
./run_veribin.sh
```
In this example, `VeriBin` successfully verifies that all four safe-to-apply properties are met, concluding that the patch is safe to apply.